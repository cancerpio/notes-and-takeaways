# .specify/memory/constitution.md
# Hard Rules (Non-negotiables)

## 0) 防呆：禁止在 master 上生成
- 當目前 git branch 為 `master` 時，禁止執行任何會生成/覆寫 `result/` 的動作。
- 只能在文章分支（例如 `post/<topic>`）上生成，避免誤把所有整理結果覆蓋。

## 1) 資料流與權限
- `material/<topic>/` 是 raw truth：不得被生成器修改。
- 生成器只允許新增/覆寫：
  - `result/<topic>/organized-draft.md`（整理後的草稿）
  - `result/<topic>/analysis.md`（分類報告、結構建議、重點建議）
- 禁止掃描、改寫其他 `<topic>` 的任何檔案。

## 2) 保持原始材料的完整性（必須遵守）
- 整理過程中不得刪除或遺漏原始材料中的任何資訊。
- 所有原始內容都應該被分類和標記，而非過濾。
- 若發現重複或矛盾的資訊，應標記並保留，讓作者自行判斷。

## 3) 分類必須明確且可追溯（必須遵守）
- 每個分類的資料都必須標註來源（來自哪個原始檔案、哪個段落）。
- 分類標準必須清楚說明，讓作者理解分類邏輯。
- 若資料同時屬於多個分類，應在每個分類中都標記。

## 4) 建議必須具體且可執行（必須遵守）
- 文章結構建議必須包含具體的小標題和內容方向。
- 重點建議必須明確指出「為什麼重要」和「如何呈現」。
- 所有建議都應該基於實際材料內容，而非空泛的模板。

## 5) 不洩漏機密（必須遵守）
- 在整理和分析過程中，若發現機密資訊（token、內網資訊等），應標記提醒作者處理。
- 不得在整理結果中直接輸出機密資訊，應使用 placeholder 或標記。

## 6) 協助而非取代（必須遵守）
- 系統的目的是協助作者整理和思考，而非直接產出可發佈的文章。
- 所有輸出都應該保留作者的判斷空間，提供選項而非唯一答案。
- 若材料不足或模糊，應明確指出，而非自行推測或補充。

